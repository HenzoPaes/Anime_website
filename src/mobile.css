/* ================================================
   AnimeVerse — Mobile Responsive Styles
   Add this to your main CSS file (e.g. index.css or App.css)
   ================================================ */

/* ---- Breakpoints ---- */
/* Mobile: < 640px */
/* Tablet: 640px – 1024px */
/* Desktop: > 1024px */

/* ---- Navbar ---- */
@media (max-width: 640px) {
  .navbar,
  nav {
    padding: 10px 16px !important;
  }

  .navbar-logo {
    font-size: 1.2rem !important;
  }

  /* Stack search below logo on very small screens */
  .navbar-search {
    display: none; /* Hide on mobile, use a search icon/modal instead */
  }
}

/* ---- Home Grid ---- */
@media (max-width: 1024px) {
  .anime-grid {
    grid-template-columns: repeat(3, 1fr) !important;
  }
}

@media (max-width: 640px) {
  .anime-grid {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 12px !important;
  }
}

/* ---- Anime Card ---- */
@media (max-width: 640px) {
  .anime-card {
    border-radius: 10px !important;
  }

  .anime-card-title {
    font-size: 0.8rem !important;
  }

  .anime-card-info {
    font-size: 0.7rem !important;
  }
}

/* ---- Anime Detail Page ---- */
@media (max-width: 1024px) {
  .detail-layout {
    flex-direction: column !important;
  }

  .detail-sidebar {
    width: 100% !important;
    max-height: 400px !important;
    overflow-y: auto;
  }
}

@media (max-width: 640px) {
  .detail-hero {
    padding: 16px !important;
    flex-direction: column !important;
    gap: 16px !important;
  }

  .detail-hero-thumbnail {
    width: 120px !important;
    height: auto !important;
    align-self: center;
  }

  .detail-hero-info h1 {
    font-size: 1.3rem !important;
  }

  .detail-actions {
    flex-wrap: wrap !important;
    gap: 8px !important;
  }

  .detail-actions button {
    flex: 1 !important;
    min-width: 120px !important;
    padding: 10px !important;
    font-size: 0.85rem !important;
  }

  /* Video player fills width */
  .video-container,
  iframe {
    width: 100% !important;
    height: auto !important;
    aspect-ratio: 16 / 9 !important;
  }

  /* Episode list below player */
  .episode-sidebar {
    width: 100% !important;
    border-left: none !important;
    border-top: 1px solid rgba(255, 255, 255, 0.08) !important;
    max-height: 320px !important;
  }

  /* Filter pills scroll horizontally */
  .filter-bar {
    flex-wrap: nowrap !important;
    overflow-x: auto !important;
    padding-bottom: 8px !important;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
  }

  .filter-bar::-webkit-scrollbar {
    display: none;
  }

  .filter-btn {
    white-space: nowrap !important;
    flex-shrink: 0 !important;
  }
}

/* ---- Episode Items (bigger touch targets) ---- */
@media (max-width: 640px) {
  .episode-item,
  .ep-btn {
    min-height: 48px !important;
    padding: 12px 14px !important;
    font-size: 0.88rem !important;
  }
}

/* ---- Dropdown & Season Selector (mobile-safe) ---- */
@media (max-width: 640px) {
  .custom-dropdown .dropdown-menu {
    left: 0 !important;
    right: 0 !important;
    min-width: unset !important;
    width: 100vw !important;
    position: fixed !important;
    bottom: 0 !important;
    top: auto !important;
    border-radius: 16px 16px 0 0 !important;
    margin: 0 !important;
    border-bottom: none !important;
  }

  .dropdown-option {
    min-height: 52px !important;
    font-size: 1rem !important;
  }
}

/* ---- Notification Bell Panel (mobile) ---- */
@media (max-width: 640px) {
  /* Make notification panel full-width at bottom */
  [data-notification-panel] {
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    top: auto !important;
    border-radius: 16px 16px 0 0 !important;
    width: 100% !important;
  }
}

/* ---- General touch improvements ---- */
@media (pointer: coarse) {
  /* Larger click targets for touch devices */
  button:not(.episode-item),
  a {
    min-height: 44px;
  }

  /* Remove hover effects that don't translate to touch */
  .anime-card:hover .card-overlay {
    opacity: 0;
  }
}

/* ---- Safe area for notched phones (iPhone X+) ---- */
@supports (padding-bottom: env(safe-area-inset-bottom)) {
  .navbar {
    padding-top: max(10px, env(safe-area-inset-top));
  }

  .episode-sidebar,
  .filter-bar {
    padding-bottom: env(safe-area-inset-bottom);
  }
}
